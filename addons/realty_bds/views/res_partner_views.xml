<odoo>
	<!-- Form View Inherit -->
	<record id="view_partner_form_inherit_job_title" model="ir.ui.view">
		<field name="name">res.partner.form.inherit.job.title</field>
		<field name="model">res.partner</field>
		<field name="inherit_id" ref="base.view_partner_form"/>
		<field name="arch" type="xml">
			<!-- Replace the address fields in the partner. -->
			<xpath expr="//div[hasclass('o_address_format')]" position="after">
				<h6>Hometown</h6>
				<div class="o_hometown_address_format">
					<div class="row">
						<div class="col-md-4">
							<field name="province_id" placeholder="Province" options="{'no_create': True}" domain="[('country_id.code', '=', 'VN')]" />
						</div>
						<div class="col-md-4">
							<field name="district_id" placeholder="District" options="{'no_create': True}" domain="[('province_id', '=', province_id)]" />
						</div>
						<div class="col-md-4">
							<field name="commune_id" placeholder="Commune" options="{'no_create': True}" domain="[('district_id', '=', district_id)]" />
						</div>
					</div>
				</div>

				<h6>Permanent Address</h6>
				<div class="o_resident_address_format">
					<div class="row">
						<div class="col-md-4">
							<field name="province_resident_id" placeholder="Province" options="{'no_create': True}" domain="[('country_id.code', '=', 'VN')]" />
						</div>
						<div class="col-md-4">
							<field name="district_resident_id" placeholder="District" options="{'no_create': True}" domain="[('province_id', '=', province_resident_id)]" />
						</div>
						<div class="col-md-4">
							<field name="commune_resident_id" placeholder="Commune" options="{'no_create': True}" domain="[('district_id', '=', district_resident_id)]" />
						</div>
					</div>
				</div>
			</xpath>

			<!-- Hide the default address fields under o_address_format -->
			<xpath expr="//div[hasclass('o_address_format')]//field[@name='country_id' or @name='street' or @name='street2' or @name='city' or @name='state_id' or @name='zip']" position="attributes">
				<attribute name="style">display: none;</attribute>
			</xpath>

			<!-- Hide the VAT field -->
			<xpath expr="//group//group//field[@name='vat']" position="attributes">
				<attribute name="invisible">1</attribute>
			</xpath>

			<!-- Add the ID number (CCCD) field to the partner -->
			<xpath expr="//group//group//field[@name='function']" position="after">
				<field name="citizen_id" string="Citizen ID"/>
			</xpath>

			<!-- Hide notebook fields -->
			<xpath expr="//group//group//field[@name='function' or @name='title' or @name='lang' or @name='category_id']" position="attributes">
				<attribute name="invisible">1</attribute>
			</xpath>

			<!-- Action buttons section -->
			<xpath expr="//div[@class='oe_title mb24']/field[@name='company_type']" position="after">
				<div class="d-flex align-items-center" style="margin-left: auto;">
					<button name="action_create_user" type="object" class="btn btn-primary mx-2 oe_edit_only" invisible="is_user == True" groups="realty_bds.access_group_full_users,realty_bds.access_group_realty_users">
						<i class="fa fa-check" aria-hidden="true"/>
						<span>Pass</span>
					</button>
					<field name="subscriber_partner_ids" widget="boolean_subscribe" nolabel="1" invisible="is_user == False"/>
				</div>
			</xpath>

			<!-- Hide the notebook -->
			<xpath expr="//notebook" position="attributes">
				<attribute name="invisible">1</attribute>
			</xpath>
		</field>
	</record>

	<!-- List View Inherit -->
	<record id="view_partner_list_inherit" model="ir.ui.view">
		<field name="name">res.partner.list.inherit</field>
		<field name="model">res.partner</field>
		<field name="inherit_id" ref="base.view_partner_tree"/>
		<field name="arch" type="xml">
			<xpath expr="//list/field[@name='complete_name']" position="before">
				<field name="subscriber_partner_ids" widget="boolean_subscribe" readonly="is_user == False" nolabel="1"/>
			</xpath>
		</field>
	</record>

	<!-- kanban View Inherit -->
	<record id="view_partner_kanban_inherit" model="ir.ui.view">
		<field name="name">res.partner.kanban.inherit</field>
		<field name="model">res.partner</field>
		<field name="inherit_id" ref="base.res_partner_kanban_view"/>
		<field name="arch" type="xml">
			<xpath expr="//templates/t[@t-name='card']//div[@class='mb-1']" position="replace">
				<div class="mb-1 d-flex justify-content-between align-items-center">
					<!-- left side: name + existing parent/function logic -->
					<div class="d-flex flex-column">
						<div class="d-flex align-items-center">
							<field name="display_name" class="mb-0 fw-bold fs-5"/>
							<field t-if="record.parent_id.raw_value and !record.function.raw_value" class="text-muted ms-2" name="parent_id"/>
							<field t-elif="!record.parent_id.raw_value and record.function.raw_value" class="text-muted ms-2" name="function"/>
							<div t-elif="record.parent_id.raw_value and record.function.raw_value" class="text-muted ms-2">
								<field name="function"/> at <field name="parent_id"/>
							</div>
						</div>
					</div>

					<!-- right side: subscribe toggle, kept compact and right-aligned -->
					<div class="ms-2 d-flex align-items-center">
						<field name="subscriber_partner_ids" widget="boolean_subscribe" readonly="is_user == False"/>
					</div>
				</div>
			</xpath>
		</field>
	</record>

	<!-- View wizard select job title -->
	<record id="view_create_user_wizard_form" model="ir.ui.view">
		<field name="name">create.user.wizard.form</field>
		<field name="model">create.user.wizard</field>
		<field name="arch" type="xml">
			<form string="Select User Title">
				<group>
					<field name="name" readonly="1"/>
					<field name="email" readonly="1"/>
					<field name="citizen_id" readonly="1"/>
					<field name="hr_job_id" options="{'no_create': True}" required="0"/>
				</group>
				<footer>
					<button name="action_confirm" string="Create" type="object" class="btn-primary"/>
					<button string="Cancel" class="btn-secondary" special="cancel"/>
				</footer>
			</form>
		</field>
	</record>
</odoo>